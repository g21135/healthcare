<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap
			PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
			"http://ibatis.apache.org/dtd/sql-map-2.dtd">
			
<sqlMap namespace="cart">

	 <update id="InsertCart"  parameterClass="cartVO" >
	insert into cartvo (cart_no,mem_id,prod_no,cart_name,cart_qty,cart_content,cart_photo,cart_price,cart_order,cart_check,cart_ship,cart_shipprice)
	values (cart_no.nextval ,#mem_id#,#prod_no#,#cart_name#,#cart_qty#,#cart_content#,#cart_photo#,#cart_price#,#cart_order#,0,#cart_ship#,#cart_shipprice#)
	</update> 

	<!--  <update id="DeleteCart" parameterClass="cartresultVO">


	</update>  -->
	
	<select id="AllCartListGet" parameterClass="cartVO" resultClass="cartVO">
	
	select cart_no,mem_id,cart_check,cart_name,cart_qty,cart_photo,cart_price,cart_ship,cart_order,cart_shipprice
	from cartvo
	where mem_id = #mem_id# and cart_check = 0 
	order by cart_no asc
	
	</select>
	
	<select id="CheckCartListGet" parameterClass="cartVO" resultClass="cartVO">
	
	select cart_no,mem_id,cart_check,cart_name,cart_qty,cart_photo,cart_price,cart_ship,cart_order,cart_shipprice
	from cartvo
	where mem_id = #mem_id# and cart_check = 1 
	order by cart_no asc
	
	</select>
	
	
	
	<delete id="CartListDelete" parameterClass="cartVO" >
	
		delete from cartvo where cart_check = 1
	</delete>
	
	<delete id="OrderListDelete" parameterClass="cartVO" >
	
		delete from cartvo where cart_check = 1
	</delete>
	
	<update id="CartSelectUpdate" parameterClass="cartVO">
	
	
	update cartvo
	set cart_check = 1
	where cart_no=#cart_no#
	
	</update>
	
	
	<update id="CartCheckUpdate" parameterClass="cartVO">
	
	
	update cartvo
	set cart_check = 0
	where cart_no=#cart_no#
	
	</update>
	
	
	
</sqlMap>



